
ZSH=$HOME/.zsh/oh-my-zsh
if test -d $ZSH ; then
    DISABLE_AUTO_UPDATE="true"
    #ZSH_THEME="afowler"
    plugins=(brew pip django vagrant npm)
    source $ZSH/oh-my-zsh.sh
    source $HOME/.zsh/hg.zsh
    source $HOME/.zsh/sellerie_afowler.zsh-theme
else
    PROMPT="%n@%m:%~%{%F{blue}%}$%{%f%} "
fi

export PATH=$HOME/privateroot/usr/bin:$HOME/privateroot/gnu/bin:$PATH

# Homebrew:
if [ -f /usr/local/bin/brew ] ; then
    HOMEBREW_PATH=/usr/local
elif [ -f $HOME/privateroot/homebrew/bin/brew ] ; then
    HOMEBREW_PATH=$HOME/privateroot/homebrew
fi
if [[ $HOMEBREW_PATH != '' ]] ; then
    export PYTHONPATH=$HOMEBREW_PATH/lib/python2.7/site-packages:$PYTHONPATH
    export NODE_PATH=$HOMEBREW_PATH/lib/node_modules:$NODE_PATH
    export PATH=$HOMEBREW_PATH/bin:$PATH
fi

# VirtualEnvWrapper:
export WORKON_HOME=$HOME/.virtualenvs
source /usr/local/bin/virtualenvwrapper.sh
#export PATH=$HOME/.virtualenvs/main/bin:$PATH

export PYTHONSTARTUP=$HOME/.pystartup

# Ruby:
export RUBYOPT=rubygems
export GEM_HOME=$HOME/.gem/ruby/1.8
export GEM_PATH=$HOME/.gem/ruby/1.8:$GEM_PATH
export PATH=$HOME/.gem/ruby/1.8/bin:$PATH

# RVM:
if test -d "$HOME/.rvm" ; then
    [[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"
    # PS1="\$(~/.rvm/bin/rvm-prompt)$PS1"
    # export PATH=$HOME/.rvm/bin:$PATH
fi


################################################################################


if [ -x $HOME/Applications/MacVim.app/Contents/MacOS/Vim ] ; then
    export EDITOR=$HOME/Applications/MacVim.app/Contents/MacOS/Vim
    alias vim=$HOME/Applications/MacVim.app/Contents/MacOS/Vim
fi


eval "$(dircolors -b)"
alias .=source
alias ls="ls --color"
alias grep="grep --color"
alias pbpwd="pwd | pbcopy"


if [[ `uname` == "Linux" ]] ; then
    alias pbcopy='xsel --clipboard --input'
    alias pbpaste='xsel --clipboard --output'

    # Jump to next/last word by Ctrl-Arrow-Right/-Left:
    bindkey "^[[1;5C" forward-word
    bindkey "^[[1;5D" backward-word
elif [[ `uname` == "Darwin" ]] ; then
    alias gvim=mvim
fi


CLICOLOR=1
LSCOLORS=Dxfxcxdxbxegedabagacad
CLICOLOR=LSCOLORS


################################################################################


# Lines configured by zsh-newuser-install
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE
setopt APPEND_HISTORY
setopt EXTENDED_HISTORY
HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=1000

bindkey -e
bindkey '\e.' insert-last-word
# End of lines configured by zsh-newuser-install
# The following lines were added by compinstall
zstyle :compinstall filename '$HOME/.zshrc'
#eval `gdircolors`
zstyle ':completion:*' list-colors ''
zstyle ':completion:*:default' list-colors ${(s.:.)LS_COLORS}
setopt BASH_AUTO_LIST
setopt NO_AUTO_MENU
setopt NO_ALWAYS_LAST_PROMPT
setopt NO_CORRECT
setopt NO_CORRECTALL
setopt AUTO_PUSHD
setopt NO_INC_APPEND_HISTORY
setopt NO_SHARE_HISTORY
setopt NO_CDABLEVARS

autoload -Uz compinit
compinit
